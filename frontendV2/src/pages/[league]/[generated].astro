---
import IFrameContainer from "@components/IFrameContainer.astro";
import { LEAGUE } from "@content/constants";
import Layout from "@layouts/BaseLayout.astro";

const { league, generated } = Astro.params;
let title: string, file: string;

switch (generated) {
  case "standings":
    title = `${league.toString().toUpperCase()} League Standings`;
    file = `${league.toString().toUpperCase()}Standings`;
    break;
  case "leaders":
    title = `${league.toString().toUpperCase()} League Leaders`;
    file = `${league.toString().toUpperCase()}LeagueLeaders`;
    break;
  case "schedule":
    title = "SIBA Schedule";
    file = "Schedule";
    break;
  case "transactions":
    title = "SIBA & DBL Transactions";
    file = "Transactions";
    break;
  case "free-agents":
    title = "SIBA Free Agents";
    file = "FA";
    break;
  case "free-agents":
    title = "SIBA Free Agents";
    file = "FA";
    break;
  case "available-coaches":
    title = "SIBA Available Coaches";
    file = "FACoach";
    break;
  case "player-index":
    title = "SIBA Player Index";
    file = "PlayerIndex";
    break;
}

const iframeProps = { title, file, league: LEAGUE.pro };

export function getStaticPaths() {
  return [
    { params: { league: "siba", generated: "standings" } },
    { params: { league: "siba", generated: "leaders" } },
    { params: { league: "siba", generated: "schedule" } },
    { params: { league: "siba", generated: "transactions" } },
    { params: { league: "siba", generated: "free-agents" } },
    { params: { league: "siba", generated: "available-coaches" } },
    { params: { league: "siba", generated: "player-index" } },
    { params: { league: "dbl", generated: "standings" } },
    { params: { league: "dbl", generated: "leaders" } },
  ];
}
---

<Layout content={{ title: title }} fullWidth>
  <IFrameContainer {...iframeProps} />
</Layout>
